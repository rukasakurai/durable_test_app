engineInstances: 1
failCriteria:
  - avg(response_time) > 5000 # Fail if average response time > 5 seconds
  - percentage(error) > 5 # Fail if error rate > 5%
skipDryRun: false
environmentVariables:
  HOST_URL: https://{{function_app_name}}.azurewebsites.net
testPlan: locustfile.py
testName: durable-function-load-test
description: "Load test for durable function with 10 concurrent users for 1 minute"
loadTestConfiguration:
  engineSize: 1
  virtualUsers: 10
  duration: 60 # 1 minute in seconds
  rampUp: 10 # 10 seconds to ramp up to full load