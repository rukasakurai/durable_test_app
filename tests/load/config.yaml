engineInstances: 1
failCriteria:
  - avg(response_time) > 5000 # Fail if average response time > 5 seconds
  - percentage(error) > 5 # Fail if error rate > 5%
skipDryRun: false
environmentVariables:
  HOST_URL: https://{{function_app_name}}.azurewebsites.net
testPlan: locustfile.py
testName: durable-function-load-test
description: "Load test for durable function with 10 concurrent users for 1 minute"
loadTestConfiguration:
  engineSize: 1
  virtualUsers: 1
  duration: 3 # 3 seconds in seconds
  rampUp: 0 # No ramp up needed for 1 user